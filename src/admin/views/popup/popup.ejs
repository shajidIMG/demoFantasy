<%- include("../../partials/head") %> <%-
include("../../partials/bodyStartWithNavBar") %> <%-
include("../../partials/sideNav") %> <%- include("../../partials/alertMsg") %>
<div id="layoutSidenav_content">
  <main>
    <div class="page-header pb-10 page-header-dark bg-info">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col">
            <div class="page-header-content">
              <h1 class="page-header-title fs-md-35 fs-20">
                <div class="page-header-icon">
                  <i class="fad fa-at text-white"></i>
                </div>
                <span class="text-capitalize"> Popup Manager </span>
              </h1>
              <div
                class="page-header-subtitle fs-md-19 fs-14 text-capitalize"
              ></div>
            </div>
          </div>
          <div class="col-auto mb-md-0 mb-3"></div>
        </div>
      </div>
    </div>
    <div class="container-fluid mt-n10">
      <div class="content-wrapper">
        <div class="container-fluid">
          <!-- Breadcrumb-->
          <div class="row pt-2 pb-2">
            <div class="col-sm-12">
              <ol class="breadcrumb">
                <li class="breadcrumb-item">
                  <a href="/"><i class="fa fa-home"></i></a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  Popup Manager
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  View All Popup
                </li>
              </ol>
            </div>
          </div>
          <!-- End Breadcrumb-->

          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <a href="/add-popup" class="btn btn-info bg-success mx-1" style="float: right"
                    ><i class="fa fa-plus"></i></a
                  >
                  <a href="/delete-popup" class="btn btn-info bg-danger mx-1" style="float: right"
                    ><i class="fa fa-minus"></i></a
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <div class="card-title">View All Popup</div>
                  <hr />
                  <div style="text-align: center"></div>
                  <table
                    id="view_popup_notification"
                    class="table table-striped table-bordered dataTable no-footer dtr-inline"
                    cellspacing="0"
                    width="100%"
                    role="grid"
                    aria-describedby="demo-dt-basic_info"
                    style="width: 100%"
                  >
                    <thead>
                      <tr>
                        <div class="fff"></div>
                        <th class="myclass text-center">S.No.</th>
                        <th class="myclass text-center">Title</th>
                        <th class="myclass2 text-center">Image</th>
                      </tr>
                    </thead>
                    <tfoot>
                      <tr>
                        <div class="fff"></div>
                        <th class="myclass text-center">S.No.</th>
                        <th class="myclass text-center">Title</th>
                        <th class="myclass2 text-center">Image</th>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <script type="text/javascript">
        $(document).ready(function () {
          $.fn.dataTable.ext.errMode = "none";
          $("#view_popup_notification").DataTable({
            searching: false,
            lengthChange: false,
            ordering: false,
            // "lengthMenu" : false,
            language: {
              zeroRecords: "No records to display",
            },
            ajax: {
              url: "/popup-data",
              type: "POST",
            },
            columns: [
              {
                data: "count",
              },
              {
                data: "title",
              },
              {
                data: "popup",
              },
            ],
          });
        });
      </script>
    </div>
  </main>
  <%- include("../../partials/footer") %>

  <script>
    $(window).on("load", function () {
      $("#preloader_admin").hide();
    });
  </script>

  <!-- <script>
    $(document).ready(function () {
      var table = $('#dataTabless').DataTable({
        'responsive': true
      });

      // Handle click on "Expand All" button
      $('#btn-show-all-children').on('click', function () {
        // Expand row details
        table.rows(':not(.parent)').nodes().to$().find('td:first-child').trigger('click');
      });

      // Handle click on "Collapse All" button
      $('#btn-hide-all-children').on('click', function () {
        // Collapse row details
        table.rows('.parent').nodes().to$().find('td:first-child').trigger('click');
      });
    });
  </script> -->

  <script>
    $(document).ready(function () {
      if ($("#accordionSidenavPages a").hasClass("active")) {
        $("#accordionSidenavPages a.active")
          .parent()
          .parent()
          .prev("a")
          .removeClass("collapsed");
        $("#accordionSidenavPages a.active").parent().parent().addClass("show");
        // console.log(id);
      } else {
        $("#takeonebar").addClass("slamdown");
      }
    });
  </script>

  <script>
    function readURL(input) {
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $("#" + input.id + "-imagePreview").css(
            "background-image",
            "url(" + e.target.result + ")"
          );
          $("#" + input.id + "-imagePreview").hide();
          $("#" + input.id + "-imagePreview").fadeIn(650);
        };
        reader.readAsDataURL(input.files[0]);
      }
    }
    $(".imageUpload").change(function () {
      readURL(this);
    });
  </script>
</div>
